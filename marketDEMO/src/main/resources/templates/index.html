<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>INDEX</title>
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/product.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">

    <style>
        .main-banner img { width:100%; height:350px; object-fit:cover; display:block; }
        .grid-products {
            display:grid; grid-template-columns:repeat(4,1fr);
            gap:20px; list-style:none; padding:0; margin-bottom:30px;
        }
        .product {
            border:1px solid #ddd; border-radius:6px; background:#fff; padding:12px;
            text-align:center; transition:transform 0.2s;
        }
        .product:hover { transform:translateY(-4px); box-shadow:0 2px 8px rgba(0,0,0,0.1); }
        .product img { width:100%; height:160px; object-fit:cover; margin-bottom:8px; }
        .name { font-size:14px; font-weight:600; margin-bottom:4px; }
        .origin { font-size:13px; text-decoration:line-through; color:#777; margin-right:4px; }
        .discount { font-size:13px; color:#d32f2f; font-weight:bold; }
        .sale { font-size:15px; font-weight:bold; color:#222; margin-top:4px; }
        .badge.shipping {
            display:inline-block; font-size:12px; padding:2px 6px; background:#1976d2;
            color:#fff; border-radius:4px; margin-top:6px;
        }
    </style>
</head>
<body>

<!-- âœ… ê³µí†µ í—¤ë” -->
<th:block th:replace="~{inc/_header :: _header}"/>

<main class="product-page">
    <div class="main-container">

        <!-- âœ… ì‚¬ì´ë“œë°” -->
        <div class="sidebar-container">
            <th:block th:replace="~{inc/_sidebar :: _sidebar}"/>

            <!-- ë² ìŠ¤íŠ¸ ìƒí’ˆ -->
            <aside class="best-product-list">
                <h3 class="page-title">ë² ìŠ¤íŠ¸ ìƒí’ˆ</h3>
                <ul class="products">
                    <li class="best-product-item" th:each="p : ${bestProducts}">
                        <img th:src="${p.imageBase64}" alt="ë² ìŠ¤íŠ¸ ìƒí’ˆ">
                        <div class="info">
                            <h4 class="name" th:text="${p.pName}">ìƒí’ˆëª…</h4>
                            <p class="price">
                                <span class="origin" th:text="${#numbers.formatInteger(p.pPrice, 3, 'COMMA')} + 'ì›'">30,000ì›</span>
                                <span class="discount" th:text="${p.pDiscount + '% â†“'}">10%</span>
                                <span class="sale"
                                      th:text="${#numbers.formatInteger(p.pPrice * (100 - p.pDiscount) / 100, 3, 'COMMA')} + 'ì›'">
                                    27,000ì›
                                </span>
                            </p>
                        </div>
                    </li>
                </ul>
            </aside>
        </div>

        <!-- âœ… ì˜¤ë¥¸ìª½ ë©”ì¸ -->
        <section class="product-list">

            <!-- ğŸ”¹ ë©”ì¸ ë°°ë„ˆ -->
            <div class="main-banner">
                <ul class="bxslider">
                    <li th:each="b : ${slideBanners}">
                        <a th:href="${b.aLink}">
                            <img th:src="${b.aImageBase64}" alt="ë°°ë„ˆ">
                        </a>
                    </li>
                </ul>
            </div>

            <!-- ğŸ”¹ íˆíŠ¸ìƒí’ˆ -->
            <h2 class="page-title">íˆíŠ¸ìƒí’ˆ</h2>
            <ul class="grid-products">
                <li class="product" th:each="p : ${hitProducts}">
                    <img th:src="${p.imageBase64}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                    <div class="name" th:text="${p.pName}">ìƒí’ˆëª…</div>
                    <div>
                        <span class="origin" th:text="${#numbers.formatInteger(p.pPrice, 3, 'COMMA')} + 'ì›'"></span>
                        <span class="discount" th:text="${p.pDiscount + '% â†“'}"></span>
                    </div>
                    <div class="sale"
                         th:text="${#numbers.formatInteger(p.pPrice * (100 - p.pDiscount) / 100, 3, 'COMMA')} + 'ì›'">
                    </div>
                    <span class="badge shipping">ë¬´ë£Œë°°ì†¡</span>
                </li>
            </ul>

            <!-- ğŸ”¹ ì¶”ì²œìƒí’ˆ -->
            <h2 class="page-title">ì¶”ì²œìƒí’ˆ</h2>
            <ul class="grid-products">
                <li class="product" th:each="p : ${recommendProducts}">
                    <img th:src="${p.imageBase64}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                    <div class="name" th:text="${p.pName}"></div>
                    <div>
                        <span class="origin" th:text="${#numbers.formatInteger(p.pPrice,3,'COMMA')} + 'ì›'"></span>
                        <span class="discount" th:text="${p.pDiscount + '% â†“'}"></span>
                    </div>
                    <div class="sale"
                         th:text="${#numbers.formatInteger(p.pPrice * (100 - p.pDiscount)/100,3,'COMMA')} + 'ì›'"></div>
                    <span class="badge shipping">ë¬´ë£Œë°°ì†¡</span>
                </li>
            </ul>

            <!-- ğŸ”¹ ìµœì‹ ìƒí’ˆ -->
            <h2 class="page-title">ìµœì‹ ìƒí’ˆ</h2>
            <ul class="grid-products">
                <li class="product" th:each="p : ${latestProducts}">
                    <img th:src="${p.imageBase64}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                    <div class="name" th:text="${p.pName}"></div>
                    <div>
                        <span class="origin" th:text="${#numbers.formatInteger(p.pPrice,3,'COMMA')} + 'ì›'"></span>
                        <span class="discount" th:text="${p.pDiscount + '% â†“'}"></span>
                    </div>
                    <div class="sale"
                         th:text="${#numbers.formatInteger(p.pPrice * (100 - p.pDiscount)/100,3,'COMMA')} + 'ì›'"></div>
                    <span class="badge shipping">ë¬´ë£Œë°°ì†¡</span>
                </li>
            </ul>

            <!-- ğŸ”¹ í• ì¸ìƒí’ˆ -->
            <h2 class="page-title">í• ì¸ìƒí’ˆ</h2>
            <ul class="grid-products">
                <li class="product" th:each="p : ${discountProducts}">
                    <img th:src="${p.imageBase64}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                    <div class="name" th:text="${p.pName}"></div>
                    <div>
                        <span class="origin" th:text="${#numbers.formatInteger(p.pPrice,3,'COMMA')} + 'ì›'"></span>
                        <span class="discount" th:text="${p.pDiscount + '% â†“'}"></span>
                    </div>
                    <div class="sale"
                         th:text="${#numbers.formatInteger(p.pPrice * (100 - p.pDiscount)/100,3,'COMMA')} + 'ì›'"></div>
                    <span class="badge shipping">ë¬´ë£Œë°°ì†¡</span>
                </li>
            </ul>

        </section>
    </div>
</main>

<!-- âœ… ê³µí†µ í‘¸í„° -->
<footer class="footer">
    <div class="footer-links">
        <a href="#">íšŒì‚¬ì†Œê°œ</a> |
        <a href="#">ì„œë¹„ìŠ¤ì´ìš©ì•½ê´€</a> |
        <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> |
        <a href="#">ì „ìê¸ˆìœµê±°ë˜ì•½ê´€</a>
    </div>

    <div class="footer-content" th:each="v : ${companyInfo}">
        <div class="company-info">
            <p th:text="${v.vCompany}">íšŒì‚¬ëª…</p>
            <p th:text="${v.vAddr}">ì£¼ì†Œ</p>
            <p th:text="${v.vEmail}">ì´ë©”ì¼</p>
            <p th:text="${v.vTel}">ì—°ë½ì²˜</p>
        </div>
        <div class="customer-center">
            <p><strong>ê³ ê°ì„¼í„°</strong></p>
            <p>Tel : 1234-5678 (í‰ì¼ 09:00~18:00)</p>
            <p>ì „ìê¸ˆìœµê±°ë˜ ë¶„ìŸ ë‹´ë‹¹ : 1234-1234 (365ì¼ 09:00~18:00)</p>
        </div>
    </div>
</footer>

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
<script>
    $(document).ready(function(){
        $('.bxslider').bxSlider({
            auto:true, mode:'horizontal', speed:500, pause:4000,
            pager:true, controls:true, adaptiveHeight:true
        });
    });
</script>
</body>
</html>
