<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>상품상세 전체페이지</title>
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/product.css">

    <style>
        /* ===== 레이아웃 ===== */
        .main-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 16px 12px 40px;
            display: flex;
            gap: 24px;
        }
        .sidebar-container {
            width: 260px;
            flex-shrink: 0;
            position: sticky;
            top: 20px;
            align-self: flex-start;
            height: fit-content;
        }
        .content-area { flex:1; min-width:0; }

        .title-bar { border-bottom:2px solid #222; margin-bottom:16px; padding-bottom:8px; }
        .title-bar .page-title { font-size:20px; font-weight:700; margin:0; }
        .breadcrumb { font-size:13px; color:#666; margin-top:4px; }

        /* ===== view1 (상품상세보기) ===== */
        .product-view .pv-top { display:grid; grid-template-columns: 1fr 1fr; gap:24px; margin-bottom:20px; }
        .pv-gallery {
            border: 1px solid #e5e7eb;
            background: #fafafa;
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 3 / 2;   /* 기존 4 / 3 → 조금 더 낮게 */
            max-height: 300px;     /* 세로 크기 제한 */
        }
        .pv-gallery img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }



        .pv-info { display:flex; flex-direction:column; gap:12px; font-family:'Noto Sans KR',sans-serif; }
        .pv-top-line { display:flex; align-items:center; gap:10px; font-size:13px; color:#555; flex-wrap:wrap; }
        .pv-title { font-size:20px; font-weight:700; margin:6px 0 4px; }
        .pv-price { border-top:1px solid #eee; border-bottom:1px solid #eee; padding:10px 0; }
        .pv-price .origin { color:#999; text-decoration:line-through; margin-right:8px; font-size:14px; }
        .pv-price .discount { color:#e11d48; font-weight:700; }
        .pv-price .btn-coupon { margin-left:8px; font-size:12px; border:1px solid #ddd; padding:2px 6px; border-radius:4px; background:#fff; cursor:pointer; }
        .pv-price .sale { font-size:24px; color:#111; font-weight:700; margin-top:4px; }
        .pv-delivery { margin-top:6px; display:flex; gap:8px; align-items:center; font-size:12px; }
        .pv-delivery .badge.free { background:#eef7ff; border:1px solid #cfe6ff; color:#2266aa; padding:2px 6px; border-radius:4px; }
        .pv-option select { padding:8px; border:1px solid #ddd; border-radius:6px; min-width:220px; }
        .qty-control { display:inline-flex; border:1px solid #ddd; border-radius:6px; overflow:hidden; }
        .btn-qty { width:34px; height:34px; border:none; background:#f5f5f5; cursor:pointer; font-size:16px; }
        #qtyInput { width:48px; height:34px; border:none; text-align:center; font-size:14px; }
        .pv-total { display:flex; justify-content:flex-end; font-size:14px; color:#555; margin:10px 0; }
        .pv-total .total-price { font-size:16px; font-weight:700; color:#111; margin-left:6px; }
        .pv-actions { display:flex; margin-top:8px; }
        .pv-actions .btn { flex:1; padding:12px 0; font-weight:600; border-radius:4px; border:1px solid #ddd; cursor:pointer; font-size:14px; }
        .btn.cart { background:#f3f4f6; color:#333; }
        .btn.buy { background:#2563eb; color:#fff; border-color:#2563eb; margin-left:6px; }
        .pv-banner { margin-top:8px; height:64px; border:1px dashed #d1d5db; color:#9ca3af; display:flex; align-items:center; justify-content:center; font-size:14px; background:#fafafa; }

        /* ===== view2 (상품정보 제공고시) ===== */
        .product-notice-wrap { border: 1px solid #ccc; margin-top: 20px; }
        .notice-header { display:flex; align-items:center; padding:10px; background:#f7f7f7; border-bottom:1px solid #ccc; }
        .notice-header .icon-label { display:inline-flex; justify-content:center; align-items:center; background:#ce0000; color:#fff; border-radius:50%; width:20px; height:20px; font-weight:bold; font-size:12px; margin-right:10px; }
        .notice-header .section-title { font-size:16px; font-weight:bold; color:#333; margin:0 20px 0 0; }
        .product-notice-table { width:100%; border-collapse:collapse; font-size:13px; table-layout:fixed; }
        .product-notice-table th, .product-notice-table td { border-bottom:1px solid #eee; padding:10px 15px; vertical-align:middle; }
        .product-notice-table th { width:150px; text-align:left; background:#fcfcfc; color:#444; font-weight:normal; border-right:1px solid #eee; }
        .refund-info-text { padding:15px; font-size:12px; line-height:1.6; color:#666; background:#f7f7f7; border-top:1px solid #ccc; }

        /* ===== view3 (리뷰) ===== */
        .review-list { display:flex; flex-direction:column; gap:20px; }
        .review-item { border-bottom:1px solid #eee; padding-bottom:16px; }
        .review-top { display:flex; justify-content:space-between; margin-bottom:8px; }
        .review-top .stars { color:#ffb400; font-size:14px; }
        .review-top .review-date { font-size:12px; color:#666; }
        .review-body { display:flex; gap:16px; }
        .review-thumb { width:80px; height:80px; object-fit:cover; border:1px solid #ddd; border-radius:6px; }
        .review-title { font-size:15px; font-weight:600; margin:0 0 6px; }
        .review-text { font-size:14px; color:#333; line-height:1.5; margin:0; }
        .pagination { display:flex; justify-content:center; gap:6px; margin-top:20px; }
        .pagination a { padding:6px 10px; border:1px solid #ddd; border-radius:4px; font-size:13px; color:#333; text-decoration:none; }
        .pagination a.active { background:#2563eb; color:#fff; border-color:#2563eb; }

        /* 상단 큰 타이틀바 (고정) */
        .top-title-bar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 2px solid #222; /* 밑줄 한 줄 */
        }

        .page-title-main {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }

        .breadcrumb {
            font-size: 13px;
            color: #666;
            white-space: nowrap; /* 줄바꿈 방지 */
        }

        /* 공통 섹션 타이틀 */
        .title-bar {
            display: flex;
            align-items: center;
            justify-content: space-between; /* 제목 왼쪽, 필요시 breadcrumb 오른쪽 */
            margin: 30px 0 16px;
            padding-bottom: 6px;
            border-bottom: 1px solid #ddd; /* 얇은 한 줄 */
        }

        .title-bar .page-title {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .pv-detail-img {
            border: 1px solid #eee;
            background: #fff;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        .pv-detail-img img {
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }

    </style>
</head>
<body>

<!-- ✅ header -->
<th:block th:replace="~{inc/_header :: _header}"/>

<main class="product-page">
    <div class="main-container">

        <!-- 사이드바 -->
        <div class="sidebar-container">
            <th:block th:replace="~{inc/_sidebar :: _sidebar}"/>
            <aside class="best-product-list">
                <h3 class="page-title">베스트 상품</h3>
                <ul class="products">
                    <li class="best-product-item">
                        <img th:src="@{/images/logo.png}" alt="베스트 상품">
                        <div class="info">
                            <h4 class="name">상품명</h4>
                            <p class="price"><span class="origin">30,000원</span><span class="discount">10%</span><span class="sale">27,000원</span></p>
                        </div>
                    </li>
                </ul>
            </aside>
        </div>

        <!-- 본문 -->
        <div class="content-area">

            <!--  맨 위 큰 타이틀바 -->
            <div class="top-title-bar">
                <h2 class="page-title-main">상품보기</h2>
                <nav class="breadcrumb">HOME &gt; 패션 · 의류 · 뷰티 &gt; 남성의류</nav>
            </div>



            <!-- view1: 상품상세보기 -->
            <section id="detail" class="product-view">
                <div class="title-bar">
                    <h2 class="page-title">상품상세보기</h2>
                </div>
                <div class="pv-top">
                    <div class="pv-gallery"><img src="/images/logo.png" alt="상품 대표 이미지"></div>
                    <div class="pv-info">
                        <div class="pv-top-line">
                            <span class="pv-sku">상품번호 : <strong>10010118412</strong></span>
                            <span class="pv-seller-name">(주)상호명</span>
                            <span class="pv-stars">★★★★☆</span>
                            <a href="#" class="pv-info-link">상품정보보기</a>
                        </div>
                        <h2 class="pv-title">상품명</h2>
                        <div class="pv-price">
                            <div><span class="origin">30,000원</span><span class="discount">10%</span><button class="btn-coupon">쿠폰받기</button></div>
                            <div class="sale">27,000원</div>
                        </div>
                        <div class="pv-delivery"><span class="badge free">무료배송</span><span class="eta">모레 (금) 7/8 도착예정</span></div>
                        <div class="pv-origin">원산지 - 상세설명 참고</div>
                        <div class="pv-option">
                            <select id="optionSelect" class="pv-select"><option>선택하기</option><option>옵션 A</option><option>옵션 B</option></select>
                        </div>
                        <div class="pv-selected">
                            <div class="pv-selected-item">
                                <span class="item-name">선택한 상품명</span>
                                <div class="qty-control">
                                    <button type="button" class="btn-qty" data-action="minus">-</button>
                                    <input id="qtyInput" type="text" value="2" inputmode="numeric" />
                                    <button type="button" class="btn-qty" data-action="plus">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="pv-total">총 상품금액 <strong class="total-price">54,000원</strong></div>
                        <div class="pv-actions"><button type="button" class="btn cart">장바구니</button><button type="button" class="btn buy">구매하기</button></div>
                        <div class="pv-banner">550 × 64 배너 광고</div>
                    </div>
                </div>
            </section>

            <!-- view1.5: 상품정보 -->
            <section id="info" style="margin-top:40px;">
                <div class="title-bar">
                    <h2 class="page-title">상품정보</h2>
                </div>
                <div class="pv-detail-img">
                    <img src="/images/logo.png" alt="상품 상세 정보 이미지">
                </div>
            </section>


            <!-- view2: 상품정보 제공고시 -->
            <section id="notice" style="margin-top:40px;">
                <div class="title-bar"><h2 class="page-title">상품정보 제공고시</h2></div>
                <div class="product-notice-wrap">
                    <div class="notice-header">
                        <span class="icon-label">1</span>
                        <h3 class="section-title">상품정보 제공고시</h3>
                        <span class="notice-text">[전자상거래법에 따른 상품정보 제공 고시]</span>
                    </div>
                    <table class="product-notice-table">
                        <tbody>
                        <tr><th>상품번호</th><td>10010118412</td></tr>
                        <tr><th>상품상태</th><td>새상품</td></tr>
                        <tr><th>부가세면세여부</th><td>과세상품</td></tr>
                        <tr><th>영수증발행여부</th><td>발행가능 (신용카드전표, 온라인현금영수증 中)</td></tr>
                        <tr><th>사업자구분</th><td>통신판매업자</td></tr>
                        <tr><th>브랜드</th><td>블루포스</td></tr>
                        <tr><th>원산지</th><td>국내생산</td></tr>
                        <tr><th>제조자/수입국</th><td>상세정보 직접입력</td></tr>
                        <tr><th>제조국</th><td>상세정보 직접입력</td></tr>
                        <tr><th>취급시 주의사항</th><td>상세정보 직접입력</td></tr>
                        <tr><th>제조연월</th><td>상세정보 직접입력</td></tr>
                        <tr><th>품질보증기준</th><td>상세정보 직접입력</td></tr>
                        <tr><th>A/S 책임자</th><td>상세정보 직접입력</td></tr>
                        <tr><th>전화번호</th><td>상세정보 직접입력</td></tr>
                        </tbody>
                    </table>
                    <p class="refund-info-text">
                        소비자가 청약철회를 하였음에도 환급이 3영업일 넘게 지연되면 지연이자를 받을 수 있습니다.<br>
                        교환/환불은 <a href="#">[나의쇼핑정보]</a> 에서 신청 가능하며, 판매자에게 문의 바랍니다.
                    </p>
                </div>
            </section>

            <!-- view3: 리뷰 -->
            <section id="review" style="margin-top:40px;">
                <div class="title-bar"><h2 class="page-title">상품리뷰</h2></div>
                <ul class="review-list">
                    <li class="review-item">
                        <div class="review-top"><span class="stars">★★★★★</span><span class="review-date">seo****** 2025-01-01</span></div>
                        <div class="review-body">
                            <img src="/images/logo.png" class="review-thumb">
                            <div><h4 class="review-title">상품명</h4><p class="review-text">가격대비 정말 만족스러워요.</p></div>
                        </div>
                    </li>
                    <li class="review-item">
                        <div class="review-top"><span class="stars">★★★★☆</span><span class="review-date">kim****** 2025-01-02</span></div>
                        <div class="review-body">
                            <img src="/images/logo.png" class="review-thumb">
                            <div><h4 class="review-title">상품명</h4><p class="review-text">옷감이 살짝 얇긴 한데 여름에 입기엔 좋아요.</p></div>
                        </div>
                    </li>
                    <li class="review-item">
                        <div class="review-top"><span class="stars">★★★☆☆</span><span class="review-date">lee****** 2025-01-03</span></div>
                        <div class="review-body">
                            <img src="/images/logo.png" class="review-thumb">
                            <div><h4 class="review-title">상품명</h4><p class="review-text">디자인은 좋은데 사이즈가 커요.</p></div>
                        </div>
                    </li>
                </ul>
                <!-- 페이지네이션 -->
                <div class="pagination">
                    <a href="#">이전</a>
                    <a href="#">1</a>
                    <a href="#" class="active">2</a>
                    <a href="#">3</a>
                    <a href="#">4</a>
                    <a href="#">5</a>
                    <a href="#">다음</a>
                </div>
            </section>

        </div>
    </div>
</main>

<!-- ✅ footer -->
<th:block th:replace="~{inc/_footer :: _footer}"/>

<!-- JS: 수량 변경 -->
<script>
    (function(){
        const qtyInput = document.getElementById('qtyInput');
        const totalEl  = document.querySelector('.total-price');
        if(!qtyInput || !totalEl) return;
        const unit = 27000;
        const fmt  = n => n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        function clamp(n){ n = Number(String(n).replace(/[^0-9]/g,'')) || 1; return Math.max(1, Math.min(999, n)); }
        function update(){ const q = clamp(qtyInput.value); qtyInput.value=q; totalEl.textContent=fmt(unit*q)+'원'; }
        document.querySelectorAll('.btn-qty').forEach(btn=>{
            btn.addEventListener('click', ()=>{ qtyInput.value = clamp(qtyInput.value) + (btn.dataset.action==='plus'?1:-1); update(); });
        });
        qtyInput.addEventListener('input', update); update();
    })();
</script>

</body>
</html>
