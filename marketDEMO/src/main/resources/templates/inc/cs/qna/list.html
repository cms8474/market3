<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>문의하기</title>
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/product.css">

    <style>
        .qna-container {
            max-width: 1000px;
            margin: 40px auto;
            background: #fff;
            padding: 20px;
        }

        /* 경로 */
        .breadcrumb {
            font-size: 13px;
            color: #666;
            margin-bottom: 20px;
        }
        /* 사이드바 + 본문 */
        .qna-main { display: flex; gap: 24px; }

        /* 왼쪽 사이드바 */
        .qna-sidebar {
            width: 200px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
        .qna-sidebar h3 {
            font-size: 15px;
            font-weight: 700;
            padding: 12px;
            border-bottom: 1px solid #ddd;
            background: #f9f9f9;
        }
        .qna-sidebar ul { list-style: none; margin: 0; padding: 0; }

        .qna-sidebar li.active {
            background: #1976d2;
            color: #fff;
            font-weight: bold;
        }
        .qna-sidebar li a {
            text-decoration: none;
            color: inherit;
        }

        /* 오른쪽 본문 */
        .qna-content { flex: 1; }
        .qna-content h2 {
            font-size: 16px;
            font-weight: 700;
            border-bottom: 2px solid #222;
            margin-bottom: 16px;
            padding-bottom: 6px;
        }

        .qna-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .qna-table th, .qna-table td {
            border-bottom: 1px solid #eee;
            padding: 10px;
            text-align: left;
        }
        .qna-table th { background: #f9f9f9; font-weight: 600; }
        .qna-table td.status { color: #1976d2; font-weight: 600; }
        .qna-table td.date { color: #777; font-size: 13px; }

        .pagination { text-align: center; margin: 20px 0; }
        .pagination a {
            display: inline-block;
            padding: 6px 10px;
            margin: 0 2px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-decoration: none;
            font-size: 13px;
            color: #333;
        }
        .pagination a.active {
            background: #1976d2;
            color: #fff;
            border-color: #1976d2;
        }

        /* 문의하기 버튼 */
        .btn-write {
            display: block;
            margin-left: auto;
            background: #1976d2;
            color: #fff;
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 4px;
            text-decoration: none;
            width: 100px;
            text-align: center;
        }
        .btn-write:hover {
            background: #125a9e;
        }
        /* 푸터 */
        .footer {
            background: #f5f5f5;
            padding: 20px;
            margin-top: 60px;
            border-top: 1px solid #ddd;
            font-size: 13px;
            color: #333;
        }
        .footer-links { text-align: center; margin-bottom: 16px; }
        .footer-links a {
            margin: 0 8px;
            color: #333;
            text-decoration: none;
        }
        .footer-links a:hover { text-decoration: underline; }
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            max-width: 1100px;
            margin: 0 auto;
        }
        .company-info, .customer-center { width: 48%; }
        .footer-logo { width: 60px; margin-bottom: 10px; }
    </style>
</head>
<body>

<!-- ✅ 공통 헤더 -->
<th:block th:replace="~{inc/_header :: _header}"/>

<main>
    <div class="qna-container">
        <div class="breadcrumb">
            <a th:href="@{/cs/index}">홈</a> > 고객센터 > 문의하기
        </div>

        <div class="qna-main">
            <!-- 사이드바 -->
            <aside class="qna-sidebar">
                <h3>문의하기</h3>
                <ul>
                    <li class="active"><a th:href="@{/cs/qna/list}">회원</a></li>
                    <li><a href="#">쿠폰/이벤트</a></li>
                    <li><a href="#">주문/결제</a></li>
                    <li><a href="#">배송</a></li>
                    <li><a href="#">취소/반품/교환</a></li>
                    <li><a href="#">여행/숙박/항공</a></li>
                    <li><a href="#">안전거래</a></li>
                </ul>
            </aside>

            <!-- 본문 -->
            <section class="qna-content">
                <h2 th:text="${type1 != null ? type1 : '전체'}">회원</h2>

                <!-- 문의 목록 -->
                <table class="qna-table">
                    <thead>
                    <tr>
                        <th>제목</th>
                        <th>상태</th>
                        <th>작성자</th>
                        <th>작성일</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="qna : ${list.content}">
                        <td>
                            <a th:href="@{'/cs/qna/view'(id=${qna.boardId})}">
                                <span th:text="${qna.boardTitle}"></span>
                            </a>
                        </td>
                        <td class="status" th:text="${qna.boardState}">검토 중</td>
                        <td th:text="${qna.boardWriter}">작성자</td>
                        <td class="date" th:text="${#temporals.format(qna.boardRegDate, 'yy.MM.dd')}">22.10.31</td>
                    </tr>

                    <tr th:if="${#lists.isEmpty(list.content)}">
                        <td colspan="4" style="text-align:center;">등록된 문의가 없습니다.</td>
                    </tr>
                    </tbody>
                </table>

                <!-- 페이지네이션 -->
                <div class="pagination" th:if="${list.totalPages > 1}">
                    <a th:if="${list.hasPrevious()}"
                       th:href="@{'/cs/qna/list'(pg=${list.number})}">이전</a>

                    <a th:each="pageNum : ${#numbers.sequence(1, list.totalPages)}"
                       th:href="@{'/cs/qna/list'(pg=${pageNum})}"
                       th:text="${pageNum}"
                       th:classappend="${pageNum == list.number + 1} ? 'active'"></a>

                    <a th:if="${list.hasNext()}"
                       th:href="@{'/cs/qna/list'(pg=${list.number + 2})}">다음</a>
                </div>

                <!-- 문의하기 버튼 -->
                <a th:href="@{/cs/qna/write}" class="btn-write">문의하기</a>
            </section>
        </div>
    </div>
</main>

<!-- ✅ 공통 푸터 -->
<th:block th:replace="~{inc/_footer :: _footer}"/>


</body>
</html>
